# 옵저버 패턴
> publish, subscribe 패턴을 구현하기 쉽다.

`신문사 + 구독자 = 옵저버 패턴`

주제 객체가 있고 주제 객체의 데이터가 바뀌면 옵저버에게 소식이 전달된다. 옵저버 객체들은 주제를 구독하고 있으며 주제 데이터가 바뀌면 당연히 갱신 내용을 전달
받는다.데이터가 바뀌면 새로운 데이터 값이 어떤 방법으로든 옵저버에게 전달된다.

`여기서 궁금한 점은 데이터가 바뀌지 않았는데도, 옵저버에게 정보를 전달하는 것은 비효율적인데 이것을 어떻게 제어하는지 궁금함`



### 추가 목표
> 소프트웨어 개발에서 바뀌지 않는 단하나를 기억해야한다. 바로 "변화"인데, 확장 기능을 그래서 추가해보자

- 확장성
  - 다른 개발자가 새로운 디스플레이를 만들고 싶을 수도 있다.
  - 현재 조건, 기상통계, 기상 예보 뿐만 아니라 다른 디스플레이가 추가될것도 대비

## 옵저버 패턴의 작동 원리
pub - 주제, sub - dog, mouse, duck, cat, mouse
1. duck 객체가 등장해서 주제한테 자기도 옵저버가 되고 싶다고 이야기 함.
2. duck 객체도 옵저버로 등록이 됨.
3. 주제 값이 바뀌고 duck을 포함한 모든 객체들이 주제가 갱신되었다는 알림을 받음.
4. mouse 객체는 이제 구독을 취소함.
5. mouse 객체가 옵저버에서 빠지게 된다.
6. 새로운 int값이 주제에 들어옴.

## 옵저버 패턴의 정의
> 옵저버 패턴은 한 객체의 상태가 바뀌면 그 객체에 의존하는 다른 객체에게 연락이 가고 자동으로 내용이 갱신되는 방식으로 일대다의 의존성을 정의합니다.

## 옵저버 패턴의 구조
- Subject(주제)
- Obeserver
- ConcreteSubject
- ConcreteObserver

> 느슨한 결합은 객체들이 상호작용할 수느 있지만, 서로를 잘 모르는 관계를 의미한다.

**요구사항**
- 주제는 옵저버가 특정 인터페이스를 구현한다는 사실만 안다.
- 옵저버는 언제든지 새로 추가할 수 있다.
- 새로운 형식의 옵저버를 추가할 때도 주제를 변경할 필요가 전혀 없다.
- 주제와 옵저버는 서로 독립적으로 재사용할 수 있다.
- 주제나 옵저버가 달라져도 서로에게 영향을 미치지는 않는다.

# 디자인 원칙 - 상호작용하는 객체 사이에는 가능하면 느슨한 결합을 사용해야 한다.